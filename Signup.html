<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AppleOnline.com/SignUp</title>
    <link rel="stylesheet" href="Signup.css">
</head>
<body>
    <div id="navbar">
        <a href="./Index.html"><img src="./Images/1.NavBar/Apple-Logo.png"  alt="" ></a>
        <a href="./1.Store.html">Store</a>
        <a href="">Mac</a>
        <a href="">iPad</a>
        <a href="./iphone.html">iPhone</a>
        <a href="">Watch</a>
        <a href="">AirPods</a>
        <a href="">TV & Home</a>
        <a href="">Entertainment</a>
        <a href="">Accessories</a>
        <a href="">Support</a>
        <!-- <input type="text" placeholder="Search"> -->
        <!-- <a style="font-size: 20px" href="./other_files/0.Bag.html">Cart / Bag:-</a>
        <h2 id="cart-count">0</h2> -->
        <a href="./Signup.html">Log in / Sign up</a>
    </div>
<div id="ascach">
    <div id="main">
        <div class="add">
            <h2>Welcome to AppleOnline.com</h2>
            <h5>This is Online Electronics Retailer store.</h5>
            <img src="./Images/Logos/Black.png" alt="">
            <div>
                <a href="./login.html"><h3>Click here for <span>Log in <img src="./Images/Logos/Black.png" alt=""></span></h3></a>
            </div>
        </div>
        <form id="form">
            <h2>Create AppleOnline Account Here.</h2>
            <input type="text" placeholder="First Name" name="firstname" id="firstname">
            <input type="text" placeholder="Last Name" name="lastname" id="lastname">
            <input type="number" placeholder="Enter Mobile No." id="mobile">
            <input type="text" placeholder="Enter Email" name="email" id="email">
            <input type="password" placeholder="Enter Password" name="password" id="password">
            <input type="text" placeholder="Address" id="address">
            <input type="number" placeholder="Pin Code" id="pincode">
            <input id="submit" name="submit" value="Submit" type="submit">
        </form>
    </div>
</div>
</body>
<script>
    let firstName=document.getElementById("firstname");
    let lastname=document.getElementById("lastname");
    let mobile=document.getElementById("mobile");
    let email=document.getElementById("email");
    let password=document.getElementById("password");
    let address=document.getElementById("address");
    let pinCode=document.getElementById("pincode");
    let form=document.querySelector("form");

    let myUserData=JSON.parse(localStorage.getItem("Sign-up-Data"))||[];
    form.addEventListener("submit",function(event){
        event.preventDefault();
        let formdata={
            firstName:firstName.value,
            lastname:lastname.value,
            mobile:mobile.value,
            email:email.value,
            password:password.value,
            address:address.value,
            pinCode:pinCode.value,
        }
        if(checkRepeat(formdata)&&formdata.password!=="")
        {
            console.log("Yes");
            alert("Email/Mobile No. is already registered... Try to Log in.")
        }else if(checkRepeat(formdata))
        {
            alert("Password is Not Entered.")
        }
        else{
            console.log("No");
            myUserData.push(formdata);
            alert("Sign in Successful")
            localStorage.setItem("Sign-up-Data",JSON.stringify(myUserData))
            
            alert("We're so happy You're here, you've been added to our mailing list, Enjoy 35% off on youe next purchase online with code ***AppleOnline15***  @ Checkout.");
            
            
            //for redirecting to Index or home Page.
            setTimeout(function(){
            alert("Redirecting to Log in Page.",onclick=redirect());
            },1000);
        }
             
    });
    function checkRepeat(data){
        for(let i=0; i<myUserData.length; i++)
        {
            if(data.email==myUserData[i].email||data.mobile==myUserData[i].mobile||data.password==="")
            {
                return true;
            }
        }
    }
    function redirect(){
        location.href="./login.html"
    }
</script>
</html>